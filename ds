--// ================================
--// Script Auto Loader + UI Status + Fix Lag
--// By SDVT & ChatGpt
--// ================================

-- Tăng số lần chạy
if not getgenv().RunCount then
    getgenv().RunCount = 1
else
    getgenv().RunCount = getgenv().RunCount + 1
end

-- Set biến toàn cục
getgenv().V = "Kaitundiamond"

-- Chạy script đầu tiên
loadstring(game:HttpGet("https://raw.githubusercontent.com/AAwful/Vector_Hub/0/v2"))()

-- Sau 10 giây chạy script thứ 2
task.delay(5, function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/MQPS7/99-Night-in-the-Forset/refs/heads/main/Gfarm"))()
end)

--// ================================
--// UI góc phải
--// ================================
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Xóa UI cũ nếu có
if player:FindFirstChild("PlayerGui"):FindFirstChild("RunStatusGui") then
    player.PlayerGui.RunStatusGui:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "RunStatusGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = player:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 250, 0, 70)
Frame.Position = UDim2.new(1, -260, 1, -110) -- góc phải dưới
Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Frame.BackgroundTransparency = 0.15
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 12)

local UIStroke = Instance.new("UIStroke", Frame)
UIStroke.Thickness = 1.5
UIStroke.Color = Color3.fromRGB(0, 255, 127)

local RunLabel = Instance.new("TextLabel")
RunLabel.Size = UDim2.new(1, -10, 0, 20)
RunLabel.Position = UDim2.new(0, 5, 0, 5)
RunLabel.BackgroundTransparency = 1
RunLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
RunLabel.Text = "Run #" .. tostring(getgenv().RunCount)
RunLabel.TextXAlignment = Enum.TextXAlignment.Left
RunLabel.Font = Enum.Font.GothamBold
RunLabel.TextSize = 15
RunLabel.Parent = Frame

local PingLabel = Instance.new("TextLabel")
PingLabel.Size = UDim2.new(1, -10, 0, 20)
PingLabel.Position = UDim2.new(0, 5, 0, 25)
PingLabel.BackgroundTransparency = 1
PingLabel.TextColor3 = Color3.fromRGB(0, 255, 127)
PingLabel.Text = "Ping: ..."
PingLabel.TextXAlignment = Enum.TextXAlignment.Left
PingLabel.Font = Enum.Font.Gotham
PingLabel.TextSize = 15
PingLabel.Parent = Frame

local Footer = Instance.new("TextLabel")
Footer.Size = UDim2.new(1, -10, 0, 20)
Footer.Position = UDim2.new(0, 5, 0, 47)
Footer.BackgroundTransparency = 1
Footer.TextColor3 = Color3.fromRGB(200, 200, 200)
Footer.Text = "By SDVT & ChatGpt | Fix Lag"
Footer.TextXAlignment = Enum.TextXAlignment.Left
Footer.Font = Enum.Font.Gotham
Footer.TextSize = 13
Footer.Parent = Frame

-- Update ping liên tục
task.spawn(function()
    while task.wait(1) do
        local ping = game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValueString()
        if PingLabel then
            PingLabel.Text = "Ping: " .. ping
        else
            break
        end
    end
end)

--// ================================
--// Fix Lag Siêu Mạnh
--// ================================
task.spawn(function()
    -- Tắt shadow + chất lượng thấp
    settings().Rendering.QualityLevel = Enum.QualityLevel.Level01

    -- Xoá mây, khói, hiệu ứng thừa
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Smoke") or obj:IsA("Fire") then
            obj.Lifetime = NumberRange.new(0)
            obj.Enabled = false
        elseif obj:IsA("Explosion") then
            obj.Visible = false
        end
    end

    -- Tắt Water Wave / Reflections
    game:GetService("Lighting").GlobalShadows = false
    game:GetService("Lighting").FogEnd = 9e9
    game:GetService("Lighting").Brightness = 1

    -- Tắt phần tử GUI thừa
    for _, v in pairs(player.PlayerGui:GetDescendants()) do
        if v:IsA("ImageLabel") or v:IsA("ImageButton") then
            v.ScaleType = Enum.ScaleType.Slice
        end
    end
end)
