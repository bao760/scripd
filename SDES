-- ‚úÖ SDVT BF - Rayfield (Fix cho Sirius.menu)
-- C·∫ßn executor h·ªó tr·ª£ HttpGet (Fluxus, Solara, Codex, Evon, v.v.)

local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

-- T·∫°o c·ª≠a s·ªï ch√≠nh
local Window = Rayfield:CreateWindow({
    Title = "SDVT BF",
    SubTitle = "Sirius Rayfield Edition",
    Theme = "Default", -- c√≥ th·ªÉ ƒë·ªïi: "Ocean", "Aqua", "Light"
    KeySystem = false
})

-- T·∫°o Tab Info
local InfoTab = Window:Tab("Info üßæ")
InfoTab:Label("Script: SDVT BF (Sirius Menu)")
InfoTab:Paragraph("T√≠nh nƒÉng", "T·ª± ƒë·ªông chuy·ªÉn sang server √≠t ng∆∞·ªùi nh·∫•t trong game b·∫°n ƒëang ch∆°i.")
InfoTab:Paragraph("H∆∞·ªõng d·∫´n", "B·∫•m sang Tab Server -> ch·ªçn Hop Low Server ƒë·ªÉ d√πng.")

-- T·∫°o Tab Server
local ServerTab = Window:Tab("Server üåê")
ServerTab:Label("C√¥ng c·ª• server")

local PLACE_ID = game.PlaceId

local function FindLowServer()
    local HttpService = game:GetService("HttpService")
    local cursor = nil
    local lowest = nil
    repeat
        local url = string.format("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=100", PLACE_ID)
        if cursor then url = url .. "&cursor=" .. cursor end

        local ok, body = pcall(function()
            return game:HttpGet(url)
        end)
        if not ok then
            warn("Kh√¥ng th·ªÉ l·∫•y danh s√°ch server:", body)
            break
        end

        local data = HttpService:JSONDecode(body)
        for _, s in ipairs(data.data) do
            if s.playing < s.maxPlayers then
                if not lowest or s.playing < lowest.playing then
                    lowest = s
                end
            end
        end
        cursor = data.nextPageCursor
        task.wait(0.3)
    until not cursor
    return lowest
end

ServerTab:Button({
    Title = "üîÑ Hop Low Server",
    Description = "T·ª± ƒë·ªông v√†o server √≠t ng∆∞·ªùi nh·∫•t",
    Callback = function()
        local srv = FindLowServer()
        if not srv then
            Rayfield:Notify("Kh√¥ng t√¨m th·∫•y server ph√π h·ª£p!", 3)
            return
        end
        Rayfield:Notify("ƒêang teleport t·ªõi server c√≥ " .. srv.playing .. " ng∆∞·ªùi...", 3)
        game:GetService("TeleportService"):TeleportToPlaceInstance(PLACE_ID, srv.id, game.Players.LocalPlayer)
    end
})

ServerTab:Label("‚û° Nh·∫•n n√∫t tr√™n ƒë·ªÉ chuy·ªÉn server √≠t ng∆∞·ªùi nh·∫•t.")

Rayfield:Notify("‚úÖ SDVT BF ƒë√£ t·∫£i th√†nh c√¥ng! M·ªü Tab Server ƒë·ªÉ d√πng.", 5)
