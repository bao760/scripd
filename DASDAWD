-- 🌌 SDVT SAB | SmartMove™ Edition (Classic Rayfield UI)
-- ✅ Auto load menu | SmartMove tránh tường | 3 điểm GO | Không anti | Safe all executor

-- 🧩 Load Rayfield (UI cổ điển)
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- ⚙️ Tạo cửa sổ chính
local Window = Rayfield:CreateWindow({
    Name = "🌌 SDVT SAB",
    LoadingTitle = "SDVT Hub",
    LoadingSubtitle = "Auto Script",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "SDVT",
        FileName = "SDVTSAB"
    }
})

-- ========================
-- 📄 TAB 1: INFO
-- ========================
local player = game.Players.LocalPlayer
local InfoTab = Window:CreateTab("📜 Info", 4483362458)

InfoTab:CreateSection("👤 Thông tin người dùng")
InfoTab:CreateLabel("Tên người dùng: " .. player.Name)
InfoTab:CreateLabel("UserID: " .. player.UserId)
InfoTab:CreateLabel("Game ID: " .. game.PlaceId)
InfoTab:CreateLabel("Mô tả: Script Hub SDVT – hỗ trợ auto & tiện ích Roblox")

-- ========================
-- 🧭 TAB 2: MAIN
-- ========================
local MainTab = Window:CreateTab("🧭 Main", 4483362458)
MainTab:CreateSection("📌 Lấy & Sao chép tọa độ")

MainTab:CreateButton({
    Name = "📍 Lấy & Copy tọa độ hiện tại",
    Callback = function()
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")
        local pos = hrp.Position
        local coord = string.format("X: %.2f, Y: %.2f, Z: %.2f", pos.X, pos.Y, pos.Z)
        setclipboard(coord)
        Rayfield:Notify({
            Title = "✅ Đã sao chép!",
            Content = coord,
            Duration = 3
        })
    end,
})

-- ========================
-- 🎃 TAB 3: EVENT
-- ========================
local EventTab = Window:CreateTab("🎃 Event", 4483362458)
EventTab:CreateSection("👻 Sự kiện Graveyard")

-- 🧠 SmartMove: tự chọn Pathfinding hoặc Tween
local PathfindingService = game:GetService("PathfindingService")
local TweenService = game:GetService("TweenService")

local function SmartMove(destination)
    local char = player.Character or player.CharacterAdded:Wait()
    local humanoid = char:WaitForChild("Humanoid")
    local hrp = char:WaitForChild("HumanoidRootPart")

    -- Tạo đường path thật
    local path = PathfindingService:CreatePath({
        AgentRadius = 2,
        AgentHeight = 5,
        AgentCanJump = true
    })

    path:ComputeAsync(hrp.Position, destination)

    -- Nếu có đường đi an toàn
    if path.Status == Enum.PathStatus.Success then
        local waypoints = path:GetWaypoints()
        Rayfield:Notify({
            Title = "🚶 SmartMove",
            Content = "Đang di chuyển an toàn tới mục tiêu...",
            Duration = 3
        })
        for _, wp in ipairs(waypoints) do
            humanoid:MoveTo(wp.Position)
            humanoid.MoveToFinished:Wait()
        end
        Rayfield:Notify({
            Title = "✅ Đã đến nơi!",
            Content = string.format("X: %.2f, Y: %.2f, Z: %.2f", destination.X, destination.Y, destination.Z),
            Duration = 4
        })
    else
        -- Nếu không có đường -> fallback Tween
        Rayfield:Notify({
            Title = "⚠️ SmartMove",
            Content = "Không tìm được đường an toàn, dùng Tween fallback...",
            Duration = 3
        })
        local tween = TweenService:Create(
            hrp,
            TweenInfo.new(4, Enum.EasingStyle.Sine, Enum.EasingDirection.Out),
            {CFrame = CFrame.new(destination)}
        )
        tween:Play()
        tween.Completed:Wait()
        Rayfield:Notify({
            Title = "✅ Hoàn tất Tween!",
            Content = "Đã đến nơi bằng chế độ dự phòng.",
            Duration = 3
        })
    end
end

-- 🎯 Các điểm Go
EventTab:CreateButton({
    Name = "🚪 Go #1 (Graveyard)",
    Callback = function()
        SmartMove(Vector3.new(-325.63, -6.39, 58.34))
    end,
})

EventTab:CreateButton({
    Name = "🚪 Go #2",
    Callback = function()
        SmartMove(Vector3.new(-377.17, -6.98, 183.61))
    end,
})

EventTab:CreateButton({
    Name = "🚪 Go #3",
    Callback = function()
        SmartMove(Vector3.new(-320.29, -6.99, 171.93))
    end,
})

EventTab:CreateParagraph({
    Title = "💡 Ghi chú",
    Content = "SmartMove™ sẽ tự đi bộ nếu có đường, hoặc Tween nhẹ nếu bị kẹt.\nKhông xuyên tường, không bị phát hiện bởi anti cheat."
})

-- ========================
-- 🚀 Auto load + Notify
-- ========================
Rayfield:LoadConfiguration()

Rayfield:Notify({
    Title = "🌌 SDVT SAB",
    Content = "Menu đã auto load thành công (SmartMove Enabled).",
    Duration = 4
})
