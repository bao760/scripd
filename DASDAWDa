-- ğŸŒŒ SDVT SAB | Safe Auto-Move & Tool Slot 2 Hotkey
-- Made by ChatGPT (for SDVT)
-- Uses Pathfinding, safe movement, manual activation (no automation)
-- Works with Rayfield Sirius UI

-- ğŸ§© Load Rayfield
local ok, Rayfield = pcall(function()
	return loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
end)

if not ok or not Rayfield then
	warn("âš ï¸ KhÃ´ng thá»ƒ táº£i Rayfield.")
	return
end

local Players = game:GetService("Players")
local PathfindingService = game:GetService("PathfindingService")
local ContextActionService = game:GetService("ContextActionService")
local player = Players.LocalPlayer

-- ğŸŒŒ Window
local Window = Rayfield:CreateWindow({
	Name = "SDVT SAB",
	LoadingTitle = "SDVT Hub",
	LoadingSubtitle = "Auto Script",
	ConfigurationSaving = {
		Enabled = true,
		FolderName = "SDVT",
		FileName = "SDVTSAB"
	}
})

-- ========================
-- ğŸ“œ TAB 1: INFO
-- ========================
local InfoTab = Window:CreateTab("ğŸ“œ Info", 4483362458)
InfoTab:CreateSection("ğŸ‘¤ NgÆ°á»i DÃ¹ng")
InfoTab:CreateLabel("TÃªn: " .. player.Name)
InfoTab:CreateLabel("UserID: " .. player.UserId)
InfoTab:CreateLabel("GameID: " .. game.PlaceId)
InfoTab:CreateLabel("MÃ´ táº£: SDVT Hub Auto Script - phiÃªn báº£n an toÃ n.")

-- ========================
-- ğŸ“ TAB 2: MAIN
-- ========================
local MainTab = Window:CreateTab("ğŸ§­ Main", 4483362458)
MainTab:CreateSection("ğŸ“Œ Tá»a Ä‘á»™ hiá»‡n táº¡i")

local coordLabel = MainTab:CreateLabel("Tá»a Ä‘á»™: ChÆ°a láº¥y")

local function getPos()
	local char = player.Character or player.CharacterAdded:Wait()
	local hrp = char:WaitForChild("HumanoidRootPart")
	return hrp.Position
end

MainTab:CreateButton({
	Name = "ğŸ“ Láº¥y tá»a Ä‘á»™ + Copy",
	Callback = function()
		local pos = getPos()
		local coord = string.format("X: %.2f, Y: %.2f, Z: %.2f", pos.X, pos.Y, pos.Z)
		coordLabel:Set("Tá»a Ä‘á»™: " .. coord)
		setclipboard(coord)
		Rayfield:Notify({
			Title = "âœ… ÄÃ£ sao chÃ©p!",
			Content = coord,
			Duration = 3
		})
	end
})

-- ========================
-- ğŸ¯ TAB 3: EVENT
-- ========================
local EventTab = Window:CreateTab("ğŸ¯ Event ESP", 4483362458)
EventTab:CreateSection("ğŸ Di chuyá»ƒn tá»± nhiÃªn (Pathfinding)")

-- CÃ¡c Ä‘iá»ƒm Ä‘áº¿n
local GO_POINTS = {
	Vector3.new(-325.63, -6.39, 58.34),   -- Go #1
	Vector3.new(-377.17, -6.98, 183.61),  -- Go #2
	Vector3.new(-320.29, -6.99, 171.93)   -- Go #3
}

-- Di chuyá»ƒn an toÃ n (trÃ¡nh tÆ°á»ng)
local function SafeMoveTo(destination)
	local char = player.Character or player.CharacterAdded:Wait()
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	local hrp = char:FindFirstChild("HumanoidRootPart")
	if not humanoid or not hrp then
		return Rayfield:Notify({Title="âš ï¸ Lá»—i", Content="KhÃ´ng tÃ¬m tháº¥y nhÃ¢n váº­t.", Duration=3})
	end

	local path = PathfindingService:CreatePath({AgentRadius=2, AgentHeight=5, AgentCanJump=true})
	path:ComputeAsync(hrp.Position, destination)

	if path.Status ~= Enum.PathStatus.Success then
		return Rayfield:Notify({Title="âŒ Lá»—i Ä‘Æ°á»ng Ä‘i", Content="KhÃ´ng thá»ƒ táº¡o Ä‘Æ°á»ng há»£p lá»‡!", Duration=3})
	end

	local waypoints = path:GetWaypoints()
	for _, wp in ipairs(waypoints) do
		if wp.Action == Enum.PathWaypointAction.Jump then
			humanoid.Jump = true
		end
		humanoid:MoveTo(wp.Position)
		humanoid.MoveToFinished:Wait()
	end
	Rayfield:Notify({Title="âœ… ÄÃ£ Ä‘áº¿n", Content="Báº¡n Ä‘Ã£ Ä‘áº¿n Ä‘iá»ƒm Ä‘Æ°á»£c chá»n.", Duration=3})
end

-- Táº¡o nÃºt di chuyá»ƒn
for i, pt in ipairs(GO_POINTS) do
	EventTab:CreateButton({
		Name = "ğŸª¦ Go #" .. i,
		Callback = function()
			SafeMoveTo(pt)
		end
	})
end

-- ========================
-- ğŸ›  TAB 4: CONTROL / HOTKEY
-- ========================
local ControlTab = Window:CreateTab("âš™ï¸ Control", 4483362458)
ControlTab:CreateSection("âŒ¨ï¸ PhÃ­m Táº¯t Tool Slot 2")

-- HÃ m equip tool slot 2 (khi báº¡n NHáº¤N phÃ­m 2 tháº­t)
local function equipAndActivateSlot2()
	local backpack = player:FindFirstChildOfClass("Backpack")
	local char = player.Character
	if not backpack or not char then
		return Rayfield:Notify({Title="âš ï¸ Lá»—i", Content="KhÃ´ng tÃ¬m tháº¥y Backpack hoáº·c nhÃ¢n váº­t.", Duration=3})
	end

	-- Láº¥y tool thá»© 2 trong Backpack
	local tools = {}
	for _, item in ipairs(backpack:GetChildren()) do
		if item:IsA("Tool") then table.insert(tools, item) end
	end

	local tool = tools[2] or tools[1]
	if not tool then
		return Rayfield:Notify({Title="âš ï¸ Tool", Content="KhÃ´ng cÃ³ tool nÃ o trong slot 2.", Duration=3})
	end

	tool.Parent = char
	task.wait(0.3)
	pcall(function() tool:Activate() end)

	Rayfield:Notify({
		Title = "ğŸ›  Tool Slot 2",
		Content = "ÄÃ£ equip vÃ  gá»i Activate() cho tool slot 2.",
		Duration = 3
	})
end

-- GÃ¡n phÃ­m 2 (ngÆ°á»i dÃ¹ng tháº­t sá»± nháº¥n)
ContextActionService:BindActionAtPriority(
	"SDVT_ActivateSlot2",
	function(_, inputState)
		if inputState == Enum.UserInputState.Begin then
			equipAndActivateSlot2()
		end
	end,
	false,
	Enum.ContextActionPriority.High.Value,
	Enum.KeyCode.Two
)

ControlTab:CreateLabel("Nháº¥n phÃ­m [2] Ä‘á»ƒ kÃ­ch hoáº¡t Tool Slot 2 (báº±ng tay).")

-- ========================
-- ğŸ” Auto Load thÃ´ng bÃ¡o
-- ========================
Rayfield:Notify({
	Title = "ğŸ“‚ SDVT Auto Load",
	Content = "Cáº¥u hÃ¬nh SDVTSAB Ä‘Ã£ Ä‘Æ°á»£c tá»± Ä‘á»™ng táº£i.",
	Duration = 3
})
