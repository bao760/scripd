-- SDVT BF - Rayfield (Sirius.menu version)
-- Tab 1: Info
-- Tab 2: Server -> Hop Low Server (t√¨m server √≠t ng∆∞·ªùi nh·∫•t r·ªìi teleport)

local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({
    Name = "SDVT BF",
    LoadingTitle = "SDVT Hub",
    LoadingSubtitle = "Powered by Rayfield Sirius",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = nil,
        FileName = "SDVT_BF_Config"
    },
    Discord = {
        Enabled = false
    }
})

-- // Tab Info
local InfoTab = Window:CreateTab("Info üßæ")
InfoTab:CreateSection("Gi·ªõi thi·ªáu")
InfoTab:CreateLabel("T√™n: SDVT BF (Sirius Edition)")
InfoTab:CreateLabel("T√≠nh nƒÉng: Hop Low Server - t√¨m server √≠t ng∆∞·ªùi")
InfoTab:CreateLabel("T√°c gi·∫£: SDVT Team")

-- // Tab Server
local ServerTab = Window:CreateTab("Server üåê")
ServerTab:CreateSection("Server Tools")

local PLACE_ID = game.PlaceId

local function findLowServer()
    local HttpService = game:GetService("HttpService")
    local cursor = nil
    local bestServer = nil

    repeat
        local url = string.format("https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=100", PLACE_ID)
        if cursor then url = url .. "&cursor=" .. cursor end

        local success, body = pcall(function()
            return game:HttpGet(url)
        end)
        if not success then
            Rayfield:Notify({
                Title = "SDVT BF",
                Content = "Kh√¥ng l·∫•y ƒë∆∞·ª£c danh s√°ch server!",
                Duration = 5
            })
            return nil
        end

        local data = HttpService:JSONDecode(body)
        for _, server in ipairs(data.data) do
            if server.playing < server.maxPlayers then
                if not bestServer or server.playing < bestServer.playing then
                    bestServer = server
                end
            end
        end

        cursor = data.nextPageCursor
        task.wait(0.3)
    until not cursor

    return bestServer
end

ServerTab:CreateButton({
    Name = "üîÑ Hop Low Server",
    Callback = function()
        Rayfield:Notify({
            Title = "SDVT BF",
            Content = "ƒêang t√¨m server √≠t ng∆∞·ªùi...",
            Duration = 3
        })

        local TeleportService = game:GetService("TeleportService")
        local Players = game:GetService("Players")

        local server = findLowServer()
        if server then
            Rayfield:Notify({
                Title = "SDVT BF",
                Content = "T√¨m th·∫•y server! Ng∆∞·ªùi ch∆°i: " .. tostring(server.playing) .. " - ƒêang Teleport...",
                Duration = 4
            })
            TeleportService:TeleportToPlaceInstance(PLACE_ID, server.id, Players.LocalPlayer)
        else
            Rayfield:Notify({
                Title = "SDVT BF",
                Content = "Kh√¥ng t√¨m ƒë∆∞·ª£c server ph√π h·ª£p!",
                Duration = 4
            })
        end
    end
})

ServerTab:CreateLabel("‚û° B·∫•m n√∫t tr√™n ƒë·ªÉ chuy·ªÉn sang server √≠t ng∆∞·ªùi nh·∫•t.")

Rayfield:Notify({
    Title = "SDVT BF",
    Content = "Menu SDVT BF (Sirius Edition) ƒë√£ t·∫£i th√†nh c√¥ng!",
    Duration = 6
})
